That used to be the way it worked, but as you've noticed it was moved into SCons a while ago. Someone may correct me, but I think all you need to do for this part is add a file like
http://repo.m5sim.org/m5/file/b26258d233d2/src/arch/sparc/SConsopts
to your ISA directory.
Gabe- Show quoted text -
Quoting Malek Musleh <malek.musleh@gmail.com>:
Hello,
I am looking into extending and defining a new ISA that would
essentially be derived from the alpha ISA. I was looking on the wiki
page:
http://www.m5sim.org/wiki/index.php/Defining_ISAs
 to follow the steps to defining a new ISA (myisa) that is a renamed
version of MIPS ISA).
However, I am running into an issue in the subsection of "Making M5
recognize myISA", the part of editing the isa_specific.hh file in
order to add a constant for the new ISA
"m5/src/arch/isa_specific.hh - Edit this file by adding a constant for
MyISA and then adding MyISA to the #define if/else structure."
I can't seem to find that file in the /arch/ directory, let alone
anywhere in the /src/ directory.
I did a find search, and the file comes up in the ./build/ALPHA_SE
(platform), so it seems to me that that file is autogenerated from the
Scons script.
I also tried searching grep for  "#define TheISA AlphaISA" , and it
seems that the corresponding defines appear in the
./build/ALPHA_SE/config/the_isa.hh file, which is only generated after
the scons build.
I see there is a isa_specific.hh file in /src/cpu/o3/isa_specific.hh,
but it doesn't have any of the defines listed in the wiki page:
(e.g.
...
#define ALPHA_ISA 21064
...
#define MY_ISA 6400
...
#if THE_ISA == ALPHA_ISA
    #define TheISA AlphaISA
#elif THE_ISA == SPARC_ISA
    #define TheISA SparcISA
...
#elif THE_ISA == MY_ISA
    #define TheISA MyISA
#else
All it has are some include files, which i also traced out but still
no luck on where I should insert a defined constant for 'myisa'.
Have things changed since 2.0 beta 3 to the latest dev release?
Other than this instance, is there anything else that should be done
differently or in addition to what is listed on that wiki page?
Thanks in advance for any help.
Malek
_______________________________________________
m5-users mailing list
m5-users@m5sim.org
http://m5sim.org/cgi-bin/mailman/listinfo/m5-users
_______________________________________________
m5-users mailing list
m5-users@m5sim.org
http://m5sim.org/cgi-bin/mailman/listinfo/m5-users
